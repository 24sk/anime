# 機能一覧：AIペットアイコンジェネレーター「AniMe」

## 1. コア機能（画像生成・AI）

* **ペット特化型 Image-to-Image 生成**
  * アップロードされたペット写真の構図、毛色、表情を維持したままアイコン化。
  * Gemini (Imagen 3) API による高精度なスタイル変換。
* **スタイルプリセット選択**
  * ユーザーがプロンプトを入力せずに、ボタン一つで画風を指定できる機能。
  * 初期ラインナップ：3Dアニメ（ピクサー風）、水彩画、ゆるふわ手書き、サイバーパンク、韓国風、シンプルイラスト。
* **日本語プロンプト最適化**
  * ユーザーが追加の要望（例：「リボンをつけて」等）を入力した場合、内部でGeminiが英語の最適プロンプトへ翻訳・調整。

## 2. ユーザーインターフェース（UX）

* **使い方ガイド（Driver.js）**
  * ヘッダーの「使い方」から、画面上の要素（アップロードエリア、スタイル選択、フリーテキスト、生成ボタン）を順にハイライトして案内するインタラクティブツアー。
  * nuxt-driver.js モジュールにより実装。ステップごとのポップオーバーで操作手順を説明。
* **ドラッグ＆ドロップ・アップローダー**
  * スマートフォン、PC両対応の直感的な画像選択。
* **SNSアイコンシミュレーター**
  * 生成画像を円形にマスクし、XやInstagramのプロフィール画面での見え方をプレビュー。
* **レスポンシブデザイン**
  * Nuxt 4 (Tailwind CSS) による、スマホ操作を最優先した1カラムレイアウト。

## 3. 広告・マネタイズ管理

* **広告表示待機ロジック**
  * APIリクエスト送信後、生成完了までの間（目安10〜15秒）にフルスクリーン広告を挿入。
* **ダウンロード制御機能**
  * 広告表示ステータスを確認後、保存ボタンを有効化（Disabledの解除）。
* **広告枠の最適化**
  * 生成待ち時間という「ユーザーが画面を注視するタイミング」での広告表示。

## 4. データ・インフラ管理（非認証型）

* **Vercel Blob 一時ストレージ**
  * 生成されたアイコン画像を一時保存（Vercel Blob）。
  * セッションが終了するか、一定時間経過後に自動で削除（または上書き）される設計。
* **連投制限（レートリミット）**
  * 同一IPアドレスからの短時間での連続リクエストを制限し、APIコストを保護。
* **セーフティフィルタ**
  * Gemini APIの標準機能を利用し、不適切な画像（暴力、公序良俗に反するもの）の生成を自動ブロック。

## 5. 将来的な拡張機能 (Backlog)

* **背景透過処理:** 生成されたアイコンの背景をワンタップで削除。
* **一括生成:** 1枚の写真から、異なるスタイルのアイコンを4枚同時に生成。
* **マイギャラリー:** ログイン機能（Auth）を追加し、過去の生成作品を保存。
* **SNSダイレクトシェア:** 生成画像をそのまま各SNSの投稿画面へ飛ばす連携。
