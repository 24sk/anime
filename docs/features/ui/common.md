# 共通UI・UX要素（全体基盤・レイアウト）

ヘッダー、グローバルメニュー、静的ページ、使い方ガイドなど、全画面で共通するUI要素。

[← 画面一覧に戻る](../ui-features.md)

---

## 実装タスク一覧（全体基盤・共通）

- [x] **Nuxt UI セットアップ**
  - `@nuxt/ui` のインストールと `nuxt.config.ts` の基本設定
  - `tailwind.config.ts` の基本設定（カスタムテーマ用）
- [x] **カラーテーマ設定**
  - アプリのキーカラー（コーラルピンク系）を `primary` に設定
  - `app.config.ts` または `tailwind.config.ts` でカスタムカラー定義
- [x] **共通レイアウト作成**
  - `layouts/default.vue` にヘッダー（ロゴ、右側に使い方・カラーモード等）とメインコンテンツエリアを実装
  - `UContainer`、`UHeader`、`UMain` を使用
- [x] **ヘッダー・グローバルメニュー（スマホ時ハンバーガメニュー）**
  - スマホ表示時、ヘッダー右側の項目をハンバーガメニューに集約し、以下の6項目を表示する
  - 1. 使い方 / 2. ダークモード / 3. 利用規約・プライバシー / 4. お問い合わせ / 5. AniMeについて / 6. FAQ
  - PC表示時は従来どおり「使い方」ボタンとカラーモードボタンを表示。必要に応じてメニューは同じ6項目でドロップダウン等で統一してもよい
- [x] **静的ページの追加（規約・お問い合わせ・About・FAQ）**
  - 利用規約・プライバシー: 1ページで規約とプライバシーポリシーを記載（`/terms`）
  - お問い合わせ: 専用ページ（`/contact`）でメールリンク（`mailto:`）を案内。環境変数 `NUXT_PUBLIC_CONTACT_EMAIL` でアドレスを変更可能
  - AniMeについて: サービス説明ページ（`/about`）
  - FAQ: よくある質問ページ（`/faq`）
- [x] **使い方ガイド（Driver.js）**
  - nuxt-driver.js モジュールにより、画面上の要素を順にハイライトして案内するインタラクティブツアーを実装
  - ヘッダーの「使い方」クリックでツアー開始。トップ画面のアップロードエリア・スタイル選択・フリーテキスト・生成ボタンをステップで案内
  - `useDriver()` でステップ定義し、各要素は `data-*` 属性または ID でターゲット指定
- [x] **ダークモード対応**
  - `UColorModeButton` を利用した配色確認
  - システム設定に応じた自動切り替え
- [x] **トースト通知の実装**
  - `UNotifications` を使用したエラー・成功時のフィードバック基盤作成
  - `useToast` composable のラッパー関数作成
- [x] **Piniaストアのセットアップ**
  - `@pinia/nuxt` モジュールのインストールと `nuxt.config.ts` への追加
  - `stores/` ディレクトリの作成と基本構造の定義
  - 生成関連のストア (`stores/generation.ts`) の作成

## ヘッダー・グローバルメニュー（ハンバーガメニュー）

スマホ表示時、ヘッダー右側の操作は **ハンバーガメニュー（三本線アイコン）** で開くドロップダウン／オーバーレイに集約する。表示順・内容は以下とする。

| # | 項目 | 動作・遷移先 |
|---|------|----------------|
| 1 | 使い方 | クリックで Driver.js の使い方ツアーを開始（トップ画面以外ではトーストで「トップページでご利用ください」等を表示） |
| 2 | ダークモード | ライト／ダークの切り替え（`UColorModeButton` と同等） |
| 3 | 利用規約・プライバシー | 規約・プライバシーポリシーを掲載した1ページへ遷移（例: `/terms`） |
| 4 | お問い合わせ | メールクライアント起動（`mailto:`）またはお問い合わせページ（例: `/contact`）へ遷移 |
| 5 | AniMeについて | サービス説明ページ（例: `/about`）へ遷移 |
| 6 | FAQ | よくある質問ページ（例: `/faq`）へ遷移 |

- **PC表示**: 従来どおり「使い方」ボタンとカラーモードボタンをヘッダー右側に表示。同一6項目を右端のメニューでまとめて表示する実装も可。
- 使用コンポーネント: `UHeader` の `#right` スロット、`UDropdownMenu` または NuxtUI のメニュー系コンポーネント、`NuxtLink`（内部リンク）、`UColorModeButton`（ダークモード用）。

## 静的ページ（規約・お問い合わせ・About・FAQ）

グローバルメニューから遷移する以下のページを用意する。

- **利用規約・プライバシー**（例: `/terms`）
  - 利用規約とプライバシーポリシーを1ページに記載。見出しで区切る。
- **お問い合わせ**
  - 案A: `mailto:` リンクのみ（メニューから「お問い合わせ」でメールクライアントを起動）。
  - 案B: お問い合わせページ（例: `/contact`）を設け、必要に応じてフォームやメールリンクを配置。
- **AniMeについて**（例: `/about`）
  - サービス名・コンセプト（「うちの子」を世界に一つだけのデジタルアートへ）と、簡単な説明を記載。
- **FAQ**（例: `/faq`）
  - よくある質問と回答（例: 対応写真の形式、生成時間、スタイルの違いなど）をアコーディオンまたはリストで表示。
  - **LINEスタンプ申請のFAQ項目（5.6 確定仕様）:** 「LINEスタンプの申請はどこでしますか？」を追加。回答で申請・審査・販売はユーザー自身が LINE Creators Market で行う旨を記載し、LINE Creators Market（https://creator.line.me/ja/）へのリンクで案内する。

各ページは `UContainer` でラップし、レイアウトは `default.vue` を共通利用する。

## 共通UI要素の実装詳細

- [x] **使い方ガイド（Driver.js）**
  - ヘッダーの「使い方」から、トップ画面の操作手順をインタラクティブに案内
  - ステップ: ①アップロードエリア → ②スタイル選択 → ③フリーテキスト入力 → ④「アイコンを作成する」ボタン
  - 各ステップで該当要素をハイライトし、ポップオーバーで説明文を表示。進捗表示・前後移動対応
  - 使用: nuxt-driver.js モジュール、`useDriver()` composable、トップ画面（`/`）のみでツアー開始
- [x] **レスポンシブ・トースト通知**
  - エラー時（画像が不適切、サーバー混雑等）のポップアップ通知
  - 使用コンポーネント: `UNotifications`、`useToast` composable
- [x] **ダークモード対応**
  - システム設定に応じた配色の自動切り替え
  - 使用コンポーネント: `UColorModeButton`、`UColorMode` composable
- [x] **ヘッダー・グローバルメニュー（ハンバーガメニュー）**
  - スマホ時: ヘッダー右側をハンバーガメニューに集約し、使い方・ダークモード・利用規約・お問い合わせ・AniMeについて・FAQ の6項目を表示
  - 使用: `UHeader`、`UDropdownMenu`（またはメニュー系）、`NuxtLink`、`UColorModeButton`
- [x] **静的ページ（規約・お問い合わせ・About・FAQ）**
  - 利用規約・プライバシー（`/terms`）、お問い合わせ（`/contact`）、AniMeについて（`/about`）、FAQ（`/faq`）の各ページを実装
- [ ] **トランジションアニメーション**
  - 画面遷移時のスムーズなフェードイン/アウト
  - 使用: Nuxt の `<Transition>` コンポーネント
