# トップ画面（生成設定）

ユーザーが最初に訪れる、シンプルでワクワク感のあるメイン画面。

> 📸 **参考画像**: [トップ画面イメージ](/images/top.png)

[← 画面一覧に戻る](../ui-features.md)

---

## 実装タスク一覧（トップ画面）

- [x] **アップロードエリアの作成**
  - `UFileUpload` を使用したドラッグ&ドロップエリア実装
  - プレビュー機能の連動
  - 写真未選択時は「可愛い写真を選んでね」というプレースホルダーを表示
- [x] **スタイルセレクターの実装**
  - `UButton` または `URadioGroup` をカスタマイズし、アイコン付きのスタイル選択肢を実装
  - 対応スタイル：3Dアニメ、水彩画、ゆるふわ手書き、サイバーパンク、韓国風、シンプルイラスト
  - 選択中のスタイルを視覚的に強調するハイライト表示
- [x] **生成ボタンの実装**
  - `UButton` を使用
  - 画像未選択時の `disabled` 制御と、ローディング状態（`loading` プロパティ）の切り替え
  - 押下時にバックエンドAPIへリクエストを送信し、生成中画面へ遷移
- [x] **追加入力エリアの実装**
  - **フリーテキスト入力**: `UTextarea` を使用した複数行テキスト入力エリア
  - ペットの特徴や要望を自由に入力できる（例：「リボンをつけて」「笑顔で」等）
- [x] **ステート管理（Pinia）**
  - Piniaストアのセットアップと設定
  - 画像データ、選択スタイル、フリーテキスト入力を保持する Pinia store の定義
  - コンポーネント間での状態共有
  - ストアの構造: `stores/generation.ts` に生成関連の状態を集約

## 実装詳細

- [x] **ヘッダーコンポーネント**
  - サービスロゴ（AniMe）。左側に配置
  - 右側: 使い方ガイド・カラーモード。**スマホ表示時**はこれらをハンバーガメニューに集約し、下記6項目を表示する（「[共通UI・UX要素](common.md)」のヘッダー・グローバルメニュー参照）
  - 使用コンポーネント: `UHeader`、`UButton`、`UColorModeButton`、nuxt-driver.js（`useDriver()`）。メニューは `UDropdownMenu` 等で実装
- [x] **画像アップロードエリア**
  - プレビュー付きアップローダー（選択したペット写真を表示）
  - ファイル選択/ドラッグ＆ドロップ対応
  - ※写真未選択時は「可愛い写真を選んでね」というプレースホルダーを表示
  - 使用コンポーネント: `UFileUpload`
- [x] **スタイルセレクター（カルーセルまたはグリッド）**
  - アイコン付きのスタイル選択ボタン（3Dアニメ、水彩画、ゆるふわ手書き、サイバーパンク、韓国風、シンプルイラスト）
  - 選択中のスタイルを視覚的に強調するハイライト表示
  - 使用コンポーネント: `UButton`、`URadioGroup`、`UIcon`
- [x] **追加入力エリア**
  - **フリーテキスト入力**: ペットの特徴や要望を自由に入力できるテキストエリア
  - 例：「リボンをつけて」「笑顔で」「背景をシンプルに」など、生成時の追加要望を入力
  - 使用コンポーネント: `UTextarea`
- [x] **生成実行ボタン**
  - 写真がアップロードされるまで「Disabled（無効）」状態
  - 押下時にバックエンドAPIへリクエストを送信し、生成中画面へ遷移
  - 使用コンポーネント: `UButton` (loading, disabled プロパティ)
