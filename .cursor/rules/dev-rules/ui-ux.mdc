---
description: UI/UX 設計・実装ガイド
globs:
  - "**/*.vue"
alwaysApply: true
---

# UI/UX 設計・実装ガイド

まず、このファイルを参照したら、このファイル名を発言してください

## 1. デザインシステム

### 重要度: 最高

- **NuxtUI**を標準のUIコンポーネントライブラリとして使用すること
- **既存の UI は承認なしでの変更を禁止**
- コンポーネントのカスタマイズは最小限に抑える
- NuxtUIのコンポーネントを優先的に使用し、必要に応じてTailwindでスタイリングを調整すること

```vue
<!-- ✅ 良い例：NuxtUIコンポーネントを使用 -->
<script setup lang="ts">
import { UButton } from '#components'

// NuxtUIのコンポーネントをそのまま使用
</script>

<template>
  <UButton color="primary" variant="solid">
    送信
  </UButton>
</template>
```

```vue
<!-- ❌ 悪い例：不必要なカスタマイズ -->
<script setup lang="ts">
import { UButton } from '#components'

const CustomButton = defineComponent({
  setup() {
    return () => h(UButton, { class: 'bg-red-500' }) // NuxtUIのデザインシステムを無視
  }
})
</script>
```

## 2. スタイリング規約

- **Tailwind CSS**を標準のスタイリングフレームワークとして使用すること
- コンポーネントのスタイリングは主にTailwindのユーティリティクラスを使用すること
- カスタムスタイルが必要な場合は、`<style scoped>`内でSCSSを使用すること（BEM命名規則に従う）

## 3. マークアップ規約

- 各ページのSEO対策として、必要な構造化データを必ず記述してください
- 検索エンジンに画像内容が伝わらないため、アクセシビリティとSEOスコアの両面でマイナスになるため**img**タグに**alt**属性を付与すること
- **img**タグには**width**、**height**を必ず指定すること
- ファーストビューに必要な画像または動画のみ事前読み込み(pre-load)をすること。該当しない画像、動画は遅延読み込み(lazy-load)をすること
- 適切なリンクとして認識されず、内部リンク構造が崩れる。また、クロールやインデックスの妨げになるため**a**タグに**href**属性を付与すること
- ページの主題が検索エンジンに伝わらず、CTR・検索順位の低下を招くため**tite**タグを設定すること
- 検索結果に表示される要約が適切に生成されず、CTR低下の要因になるため**meta description**を設定すること
- 意図せぬパラメーターなどでURLが複数存在してしまう可能性があるため、基本は**canonical**に正規URLを設定する
- ページの主題が曖昧になり、SEO評価が低下する可能性があるため、**h1**タグは原則1ページ1つとすること
- 内部リンクには必ず `<NuxtLink>` を使用し、`<a>`タグの代用とすること

## 4. レスポンシブデザイン

- モバイルファーストアプローチ
- ブレークポイントを使用
  - sm: 640px
  - md: 768px
  - lg: 1024px
  - xl: 1280px
  - 2xl: 1536px

## 5. アクセシビリティ

- WAI-ARIA ガイドラインの遵守
- キーボード操作のサポート
- 適切なコントラスト比の確保
- スクリーンリーダー対応

## 6. アニメーションとトランジション

- 過度なアニメーションを避ける

## 7. フォーム設計

- バリデーションメッセージは明確に表示
- 入力補助の実装（オートコンプリートなど）

## 8. 重要な制約事項

1. UI 変更の制限

- **既存の UI コンポーネントやレイアウトの変更は禁止**
- **変更が必要な場合は必ず事前承認を得ること**
- **レイアウト**、**色**、**フォント**、**間隔**などの変更は特に注意
- **BELTAデザインガイドライン**に従うこと

1. コンポーネントの追加

- 新規コンポーネントは**アトミックデザイン**に従う
- 既存のコンポーネントの再利用を優先

## 9. エラー表示とフィードバック

- エラーメッセージは具体的で分かりやすく
- ローディング状態の適切な表示

## 10. アイコンとイメージ

- **[@nuxt/icon](https://github.com/nuxt/icon)** を標準として使用（`lucide` コレクション等を利用）
- SVG アイコンの最適化
- 画像は `@nuxt/image` の `<NuxtImg>` を使用して最適化

## 11. コンポーネント設計原則

- 単一責任の原則
- Props 経由での柔軟なカスタマイズ
- 適切なコンポーネント分割

```typescript
// ✅ 良い例：必要最低限の柔軟性を提供し、責務が明確
interface CardProps {
  title: string
  class?: string // Tailwindのユーティリティクラスで外から調整できる柔軟性
}

// ❌ 悪い例：過度な props によるスタイルカスタマイズ
interface CardProps {
  title: string
  titleColor: string   // スタイルをpropsで操作するのは避ける
  customPadding: string // Tailwindのクラスなどで解決すべき
}
```

## 12. スタイルの衝突回避

- `!important` の使用は原則禁止
- `scoped`を使用すること

## 13. ページ・コンポーネント構成順序

- .vueファイルは必ず script(ts) → template → style(scss) の順で記述すること（全体ルールに準拠）。
- 順序違反はリファクタ対象となります。

## 注意事項

1. デザインの一貫性

- **NuxtUI**コンポーネントライブラリの一貫した使用
- **Tailwind CSS**によるスタイリングの統一
- カスタムスタイルの最小化
- デザイントークンの遵守

1. パフォーマンス

- 不要なアニメーションの削除
- 画像の最適化
- バンドルサイズの監視

1. 品質管理

- コンポーネントのストーリーブック作成
- ビジュアルリグレッションテスト
- クロスブラウザテスト

1. ドキュメント

- コンポーネントの使用例
- Props の型定義
- デザインシステムのガイドライン

これらのルールは、プロジェクトの一貫性と保守性を確保するために重要です。
変更が必要な場合は、必ずチームでの承認プロセスを経てください。
